# 中长跑实时指导系统

基于多模态传感器、边缘AI和大语言模型的中长跑实时姿态分析与指导系统。该系统利用IMU和足压传感器数据，结合本地TensorFlow.js引擎和DeepSeek大模型，提供全方位跑步分析和指导服务，包括实时姿态评分、步态分析、足压分布评估和专业改进建议。

## 核心亮点

- **双模式AI引擎**：融合边缘计算和云端大语言模型，实现全方位智能分析
- **DeepSeek大模型集成**：提供专业深度分析、个性化建议和定制训练计划
- **实时边缘计算**：利用TensorFlow.js在设备本地进行实时推理，无需网络延迟
- **沉浸式UI体验**：支持明/暗主题切换，提供流畅的数据可视化和交互体验
- **全平台兼容**：独立Web应用，可在各种设备上使用，无需安装额外软件

## 功能特性

- **实时数据分析**：高频采集并实时处理IMU和足压传感器数据
- **步态相位检测**：AI模型精确识别8个跑步周期关键阶段
- **姿态评分系统**：多维评估包括效率、稳定性和冲击力指标
- **足压分布分析**：直观展示前脚掌、中脚掌和后脚掌压力比例
- **异常模式检测**：AI自动识别并警告潜在的姿势问题和伤病风险
- **DeepSeek深度分析**：利用专业大语言模型提供深入技术分析
- **个性化训练计划**：根据用户数据生成短期和长期训练建议
- **历史数据追踪**：记录并可视化长期进步，支持数据对比
- **PDF报告导出**：一键生成包含完整中文字体的专业分析报告
- **数据上传功能**：支持CSV和TXT格式的历史数据上传与离线分析
- **深色模式**：提供护眼舒适的深色主题，适合各种使用场景
- **响应式设计**：完美适配从手机到桌面的各种设备屏幕

## 技术栈

- **前端框架**：Vue 3 + TypeScript + Vite
- **UI组件库**：Element Plus
- **状态管理**：Pinia
- **路由管理**：Vue Router
- **数据可视化**：ECharts + Vue-ECharts
- **大语言模型**：DeepSeek AI (DeepSeek Chat V3)
- **本地AI推理**：TensorFlow.js
- **报表生成**：jsPDF + html2canvas
- **构建工具**：Vite

## DeepSeek AI 集成功能

系统深度集成了DeepSeek大语言模型，提供以下专业功能：

1. **技术深度分析**：对跑步姿态进行专业级别分析，包括步态周期、着地方式、垂直振幅等
2. **个性化建议生成**：基于用户数据生成针对性改进建议，每条建议包含具体练习方法
3. **训练计划制定**：自动生成短期(1-2周)和长期(1-2月)训练计划
4. **异常模式解读**：对检测到的异常模式提供专业解释和纠正方法
5. **进步趋势评估**：分析历史数据，评估用户的进步情况和潜在改进空间

## 系统架构

系统采用前沿的混合AI架构设计，包括以下层次：

1. **数据采集层**：高频采集IMU和足压传感器数据，或处理上传的历史数据
2. **信号处理层**：进行滤波和特征提取，转换为AI可处理的格式
3. **本地推理层**：使用TensorFlow.js模型在浏览器中执行实时推理
4. **云端分析层**：通过DeepSeek API进行专业深度分析和个性化建议生成
5. **应用呈现层**：提供沉浸式数据可视化和用户交互界面

## AI引擎组件

- **核心引擎 (engine.ts)**：整合各AI组件的中央控制系统
- **API适配器 (adapter.ts)**：提供与UI层和数据层的无缝连接
- **DeepSeek服务 (deepseekService.ts)**：负责与DeepSeek API通信和结果解析
- **专家系统 (expertSystem.ts)**：基于专业跑步知识的规则引擎
- **个性化模块 (personalization.ts)**：根据用户历史适应分析参数
- **模型加载器 (modelLoader.ts)**：管理TensorFlow.js模型的加载与使用

## 应用模式

系统支持两种运行模式：

1. **模拟数据模式**：使用模拟数据展示系统功能，适合演示和体验
2. **AI引擎模式**：结合TensorFlow.js和DeepSeek API提供专业分析，适合实际训练

## 页面与功能

### 首页 (HomeView)

- 系统介绍与核心功能展示
- 模式选择 (模拟数据/AI引擎)
- 工作原理说明和操作流程图示

### 实时仪表盘 (DashboardView)

- 实时数据监测 (配速、心率、步频等)
- AI实时分析结果展示
- 姿态评分和足压分布可视化
- 深色模式支持，适合夜间训练

### 历史数据 (HistoryView)

- 历史训练记录与趋势图表
- 关键指标长期追踪与对比
- 进步分析与里程碑展示

### 深度分析 (AnalysisView)

- DeepSeek AI专业深度分析
- 多维度跑步指标详细评估
- 个性化训练计划生成
- PDF专业报告导出

### 上传数据 (UploadDataView)

- IMU数据上传 (TXT格式)
- 足压数据上传 (CSV格式)
- 数据预览和基本统计
- 离线数据分析与结果展示

## 快速启动

```bash
# 安装依赖
npm install

# 开发模式启动
npm run dev

# 构建生产版本
npm run build

# 代码检查和修复
npm run lint
```

## 项目结构

```
src/                   # 前端源代码
  ├── views/           # 页面组件
  │   ├── HomeView.vue         # 首页
  │   ├── DashboardView.vue    # 实时仪表盘
  │   ├── HistoryView.vue      # 历史数据
  │   ├── AnalysisView.vue     # 深度分析
  │   ├── UploadDataView.vue   # 上传数据
  │   └── AboutView.vue        # 关于页面
  ├── ai/              # AI引擎模块
  │   ├── adapter.ts           # 适配器
  │   ├── deepseekService.ts   # DeepSeek API服务
  │   ├── engine.ts            # 核心引擎
  │   ├── expertSystem.ts      # 专家系统
  │   ├── index.ts             # 入口和导出
  │   ├── modelLoader.ts       # 模型加载器
  │   ├── personalization.ts   # 个性化模块
  │   └── types.ts             # 类型定义
  ├── components/      # 可复用组件
  ├── stores/          # Pinia状态管理
  ├── services/        # 服务模块
  ├── assets/          # 静态资源
  ├── router/          # 路由配置
  └── utils/           # 工具函数
```

## 最新更新 (2025年5月6日)

- **DeepSeek Chat V3集成**：升级至最新API，提供更准确的专业分析和建议
- **UI全面优化**：重新设计仪表盘UI，提供更直观的数据可视化体验
- **深色模式增强**：优化深色主题配色和元素对比度，提升夜间使用体验
- **新增足部着地分析**：更精细的足部压力分布分析和可视化
- **数据上传功能**：支持历史数据上传和离线分析
- **性能优化**：TensorFlow.js模型量化和优化，降低40%内存占用
- **Vue 3组件重构**：采用Composition API和TS类型增强，提升代码质量

## 开发计划

- **健康监测集成**：计划集成心率变异性(HRV)分析和疲劳监测
- **社区功能**：添加成就系统和社区数据共享功能
- **多语言支持**：计划支持英文、日文等多语言界面
- **3D姿态可视化**：基于传感器数据的3D跑步姿态重建

## 许可证

MIT License
